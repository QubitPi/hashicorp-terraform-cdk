{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Terraform","url":"/terraform"},{"title":"CDK for Terraform","url":"/terraform/cdktf","isCurrentPage":false},{"title":"Create and Deploy Applications"},{"title":"Deployment Patterns","url":"/terraform/cdktf/create-and-deploy/deployment-patterns","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Terraform Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Terraform","fullPath":"/terraform","theme":"terraform"},{"title":"Install","fullPath":"/terraform/install"},{"title":"Tutorials","fullPath":"/terraform/tutorials"},{"title":"Documentation","isOpen":true,"routes":[{"title":"About the Docs","fullPath":"/terraform/docs"},{"title":"Configuration Language","fullPath":"/terraform/language"},{"title":"Terraform CLI","fullPath":"/terraform/cli"},{"title":"HCP Terraform","fullPath":"/terraform/cloud-docs"},{"title":"Terraform Enterprise","fullPath":"/terraform/enterprise"},{"title":"CDK for Terraform","fullPath":"/terraform/cdktf"},{"title":"Provider Use","fullPath":"/terraform/language/providers"},{"title":"Plugin Development","fullPath":"/terraform/plugin"},{"title":"Registry Publishing","fullPath":"/terraform/registry"},{"title":"Integration Program","fullPath":"/terraform/docs/partnerships"}]}],"showFilterInput":false,"title":"Terraform","visuallyHideTitle":true},{"backToLinkProps":{"text":"Terraform Home","href":"/terraform"},"levelButtonProps":{"levelUpButtonText":"Terraform Home"},"menuItems":[{"title":"CDK for Terraform","fullPath":"/terraform/cdktf","theme":"terraform"},{"title":"Get Started","href":"/terraform/tutorials/cdktf/cdktf-install","id":"sidebar-nav-item-2"},{"title":"Concepts","routes":[{"title":"Architecture","path":"concepts/cdktf-architecture","filePath":"../docs/cdktf/concepts/cdktf-architecture.mdx","fullPath":"/terraform/cdktf/concepts/cdktf-architecture","id":"sidebar-nav-item-4"},{"title":"HCL Interoperability","path":"concepts/hcl-interoperability","filePath":"../docs/cdktf/concepts/hcl-interoperability.mdx","fullPath":"/terraform/cdktf/concepts/hcl-interoperability","id":"sidebar-nav-item-5"},{"title":"Constructs","path":"concepts/constructs","filePath":"../docs/cdktf/concepts/constructs.mdx","fullPath":"/terraform/cdktf/concepts/constructs","id":"sidebar-nav-item-6"},{"title":"Providers","path":"concepts/providers","filePath":"../docs/cdktf/concepts/providers.mdx","fullPath":"/terraform/cdktf/concepts/providers","id":"sidebar-nav-item-7"},{"title":"Resources","path":"concepts/resources","filePath":"../docs/cdktf/concepts/resources.mdx","fullPath":"/terraform/cdktf/concepts/resources","id":"sidebar-nav-item-8"},{"title":"Modules","path":"concepts/modules","filePath":"../docs/cdktf/concepts/modules.mdx","fullPath":"/terraform/cdktf/concepts/modules","id":"sidebar-nav-item-9"},{"title":"Data Sources","path":"concepts/data-sources","filePath":"../docs/cdktf/concepts/data-sources.mdx","fullPath":"/terraform/cdktf/concepts/data-sources","id":"sidebar-nav-item-10"},{"title":"Variables and Outputs","path":"concepts/variables-and-outputs","filePath":"../docs/cdktf/concepts/variables-and-outputs.mdx","fullPath":"/terraform/cdktf/concepts/variables-and-outputs","id":"sidebar-nav-item-11"},{"title":"Functions","path":"concepts/functions","filePath":"../docs/cdktf/concepts/functions.mdx","fullPath":"/terraform/cdktf/concepts/functions","id":"sidebar-nav-item-12"},{"title":"Iterators","path":"concepts/iterators","filePath":"../docs/cdktf/concepts/iterators.mdx","fullPath":"/terraform/cdktf/concepts/iterators","id":"sidebar-nav-item-13"},{"title":"Remote Backends","path":"concepts/remote-backends","filePath":"../docs/cdktf/concepts/remote-backends.mdx","fullPath":"/terraform/cdktf/concepts/remote-backends","id":"sidebar-nav-item-14"},{"title":"Aspects","path":"concepts/aspects","filePath":"../docs/cdktf/concepts/aspects.mdx","fullPath":"/terraform/cdktf/concepts/aspects","id":"sidebar-nav-item-15"},{"title":"Assets","path":"concepts/assets","filePath":"../docs/cdktf/concepts/assets.mdx","fullPath":"/terraform/cdktf/concepts/assets","id":"sidebar-nav-item-16"},{"title":"Tokens","path":"concepts/tokens","filePath":"../docs/cdktf/concepts/tokens.mdx","fullPath":"/terraform/cdktf/concepts/tokens","id":"sidebar-nav-item-17"},{"title":"Stacks","path":"concepts/stacks","filePath":"../docs/cdktf/concepts/stacks.mdx","fullPath":"/terraform/cdktf/concepts/stacks","id":"sidebar-nav-item-18"}],"id":"sidebar-nav-item-3"},{"title":"Examples and Guides","routes":[{"title":"Examples","path":"examples-and-guides/examples","filePath":"../docs/cdktf/examples-and-guides/examples.mdx","fullPath":"/terraform/cdktf/examples-and-guides/examples","id":"sidebar-nav-item-20"},{"title":"Refactoring Stacks","path":"examples-and-guides/refactoring","filePath":"../docs/cdktf/examples-and-guides/refactoring.mdx","fullPath":"/terraform/cdktf/examples-and-guides/refactoring","id":"sidebar-nav-item-21"}],"id":"sidebar-nav-item-19"},{"title":"Create and Deploy Applications","routes":[{"title":"Project Setup","path":"create-and-deploy/project-setup","filePath":"../docs/cdktf/create-and-deploy/project-setup.mdx","fullPath":"/terraform/cdktf/create-and-deploy/project-setup","id":"sidebar-nav-item-23"},{"title":"Configuration File","path":"create-and-deploy/configuration-file","filePath":"../docs/cdktf/create-and-deploy/configuration-file.mdx","fullPath":"/terraform/cdktf/create-and-deploy/configuration-file","id":"sidebar-nav-item-24"},{"title":"Best Practices","path":"create-and-deploy/best-practices","filePath":"../docs/cdktf/create-and-deploy/best-practices.mdx","fullPath":"/terraform/cdktf/create-and-deploy/best-practices","id":"sidebar-nav-item-25"},{"title":"Environment Variables","path":"create-and-deploy/environment-variables","filePath":"../docs/cdktf/create-and-deploy/environment-variables.mdx","fullPath":"/terraform/cdktf/create-and-deploy/environment-variables","id":"sidebar-nav-item-26"},{"title":"HCP Terraform","path":"create-and-deploy/hcp-terraform","filePath":"../docs/cdktf/create-and-deploy/hcp-terraform.mdx","fullPath":"/terraform/cdktf/create-and-deploy/hcp-terraform","id":"sidebar-nav-item-27"},{"title":"Deployment Patterns","path":"create-and-deploy/deployment-patterns","filePath":"../docs/cdktf/create-and-deploy/deployment-patterns.mdx","fullPath":"/terraform/cdktf/create-and-deploy/deployment-patterns","id":"sidebar-nav-item-28"},{"title":"Performance","path":"create-and-deploy/performance","filePath":"../docs/cdktf/create-and-deploy/performance.mdx","fullPath":"/terraform/cdktf/create-and-deploy/performance","id":"sidebar-nav-item-29"},{"title":"Remote Templates","path":"create-and-deploy/remote-templates","filePath":"../docs/cdktf/create-and-deploy/remote-templates.mdx","fullPath":"/terraform/cdktf/create-and-deploy/remote-templates","id":"sidebar-nav-item-30"},{"title":"AWS Adapter [preview]","path":"create-and-deploy/aws-adapter","filePath":"../docs/cdktf/create-and-deploy/aws-adapter.mdx","fullPath":"/terraform/cdktf/create-and-deploy/aws-adapter","id":"sidebar-nav-item-31"}],"id":"sidebar-nav-item-22"},{"title":"Develop Custom Constructs","routes":[{"title":"Design","path":"develop-custom-constructs/construct-design","filePath":"../docs/cdktf/develop-custom-constructs/construct-design.mdx","fullPath":"/terraform/cdktf/develop-custom-constructs/construct-design","id":"sidebar-nav-item-33"},{"title":"Publishing and Distribution","path":"develop-custom-constructs/publishing-and-distribution","filePath":"../docs/cdktf/develop-custom-constructs/publishing-and-distribution.mdx","fullPath":"/terraform/cdktf/develop-custom-constructs/publishing-and-distribution","id":"sidebar-nav-item-34"}],"id":"sidebar-nav-item-32"},{"title":"Test and Debug","routes":[{"title":"Unit Tests","path":"test/unit-tests","filePath":"../docs/cdktf/test/unit-tests.mdx","fullPath":"/terraform/cdktf/test/unit-tests","id":"sidebar-nav-item-36"},{"title":"Debugging","path":"test/debugging","filePath":"../docs/cdktf/test/debugging.mdx","fullPath":"/terraform/cdktf/test/debugging","id":"sidebar-nav-item-37"}],"id":"sidebar-nav-item-35"},{"title":"CLI Reference","routes":[{"title":"CLI Configuration","path":"cli-reference/cli-configuration","filePath":"../docs/cdktf/cli-reference/cli-configuration.mdx","fullPath":"/terraform/cdktf/cli-reference/cli-configuration","id":"sidebar-nav-item-39"},{"title":"Commands","path":"cli-reference/commands","filePath":"../docs/cdktf/cli-reference/commands.mdx","fullPath":"/terraform/cdktf/cli-reference/commands","id":"sidebar-nav-item-40"}],"id":"sidebar-nav-item-38"},{"title":"API Reference","routes":[{"title":"Overview","path":"api-reference/overview","filePath":"../docs/cdktf/api-reference/overview.mdx","fullPath":"/terraform/cdktf/api-reference/overview","id":"sidebar-nav-item-42"},{"title":"Typescript","path":"api-reference/typescript","filePath":"../docs/cdktf/api-reference/typescript.mdx","fullPath":"/terraform/cdktf/api-reference/typescript","id":"sidebar-nav-item-43"},{"title":"Python","path":"api-reference/python","filePath":"../docs/cdktf/api-reference/python.mdx","fullPath":"/terraform/cdktf/api-reference/python","id":"sidebar-nav-item-44"},{"title":"Java","path":"api-reference/java","filePath":"../docs/cdktf/api-reference/java.mdx","fullPath":"/terraform/cdktf/api-reference/java","id":"sidebar-nav-item-45"},{"title":"C#","path":"api-reference/csharp","filePath":"../docs/cdktf/api-reference/csharp.mdx","fullPath":"/terraform/cdktf/api-reference/csharp","id":"sidebar-nav-item-46"},{"title":"Go","path":"api-reference/go","filePath":"../docs/cdktf/api-reference/go.mdx","fullPath":"/terraform/cdktf/api-reference/go","id":"sidebar-nav-item-47"},{"title":"Providers","path":"api-reference/provider","filePath":"../docs/cdktf/api-reference/provider.mdx","fullPath":"/terraform/cdktf/api-reference/provider","id":"sidebar-nav-item-48"}],"id":"sidebar-nav-item-41"},{"title":"Release","routes":[{"title":"Overview","path":"release","filePath":"../docs/cdktf/release/index.mdx","fullPath":"/terraform/cdktf/release","id":"sidebar-nav-item-50"},{"title":"Upgrading to Version 0.19","path":"release/upgrade-guide-v0-19","filePath":"../docs/cdktf/release/upgrade-guide-v0-19.mdx","fullPath":"/terraform/cdktf/release/upgrade-guide-v0-19","id":"sidebar-nav-item-51"},{"title":"Upgrading to Version 0.18","path":"release/upgrade-guide-v0-18","filePath":"../docs/cdktf/release/upgrade-guide-v0-18.mdx","fullPath":"/terraform/cdktf/release/upgrade-guide-v0-18","id":"sidebar-nav-item-52"},{"title":"Upgrading to Version 0.17","path":"release/upgrade-guide-v0-17","filePath":"../docs/cdktf/release/upgrade-guide-v0-17.mdx","fullPath":"/terraform/cdktf/release/upgrade-guide-v0-17","id":"sidebar-nav-item-53"},{"title":"Upgrading to Version 0.15","path":"release/upgrade-guide-v0-15","filePath":"../docs/cdktf/release/upgrade-guide-v0-15.mdx","fullPath":"/terraform/cdktf/release/upgrade-guide-v0-15","id":"sidebar-nav-item-54"},{"title":"Upgrading to Version 0.13","path":"release/upgrade-guide-v0-13","filePath":"../docs/cdktf/release/upgrade-guide-v0-13.mdx","fullPath":"/terraform/cdktf/release/upgrade-guide-v0-13","id":"sidebar-nav-item-55"},{"title":"Upgrading to Version 0.12","path":"release/upgrade-guide-v0-12","filePath":"../docs/cdktf/release/upgrade-guide-v0-12.mdx","fullPath":"/terraform/cdktf/release/upgrade-guide-v0-12","id":"sidebar-nav-item-56"},{"title":"Upgrading to Version 0.11","path":"release/upgrade-guide-v0-11","filePath":"../docs/cdktf/release/upgrade-guide-v0-11.mdx","fullPath":"/terraform/cdktf/release/upgrade-guide-v0-11","id":"sidebar-nav-item-57"},{"title":"Upgrading to Version 0.10","path":"release/upgrade-guide-v0-10","filePath":"../docs/cdktf/release/upgrade-guide-v0-10.mdx","fullPath":"/terraform/cdktf/release/upgrade-guide-v0-10","id":"sidebar-nav-item-58"},{"title":"Upgrading to Version 0.9","path":"release/upgrade-guide-v0-9","filePath":"../docs/cdktf/release/upgrade-guide-v0-9.mdx","fullPath":"/terraform/cdktf/release/upgrade-guide-v0-9","id":"sidebar-nav-item-59"},{"title":"Upgrading to Version 0.7","path":"release/upgrade-guide-v0-7","filePath":"../docs/cdktf/release/upgrade-guide-v0-7.mdx","fullPath":"/terraform/cdktf/release/upgrade-guide-v0-7","id":"sidebar-nav-item-60"},{"title":"Upgrading to Version 0.6","path":"release/upgrade-guide-v0-6","filePath":"../docs/cdktf/release/upgrade-guide-v0-6.mdx","fullPath":"/terraform/cdktf/release/upgrade-guide-v0-6","id":"sidebar-nav-item-61"}],"id":"sidebar-nav-item-49"},{"title":"Community","path":"community","filePath":"../docs/cdktf/community.mdx","fullPath":"/terraform/cdktf/community","id":"sidebar-nav-item-62"},{"title":"Telemetry","path":"telemetry","filePath":"../docs/cdktf/telemetry.mdx","fullPath":"/terraform/cdktf/telemetry","id":"sidebar-nav-item-63"}],"title":"CDK for Terraform","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/terraform-cdk/blob/main/website/../docs/cdktf/create-and-deploy/deployment-patterns.mdx"},"metadata":{"title":"Deployment Patterns - CDK for Terraform","description":"Continuously deploy your applications with CDKTF.","layout":null},"outlineItems":[{"title":"Deployment Patterns","url":"#deployment-patterns","dataHeapTrack":"toc-list-item-index-0"},{"title":"Deployment Methods","url":"#deployment-methods","dataHeapTrack":"toc-list-item-index-1"},{"title":"Using HCP Terraform","url":"#using-hcp-terraform","dataHeapTrack":"toc-list-item-index-2"},{"title":"Managing Secrets and Sensitive Data","url":"#managing-secrets-and-sensitive-data","dataHeapTrack":"toc-list-item-index-3"},{"title":"Example Workflows","url":"#example-workflows","dataHeapTrack":"toc-list-item-index-4"}],"pageHeading":{"id":"deployment-patterns","title":"Deployment Patterns"},"mdxSource":{"compiledSource":"const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",null,`You can configure your Continuous Integration/Continuous Deployment (CI/CD) environment to automatically deploy your CDKTF applications. This page explains different types of deployment patterns to help you choose the methods that are most appropriate for your use case.`),mdx(\"h2\",{\"id\":\"deployment-methods\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#deployment-methods\",\"aria-label\":\"deployment methods permalink\"},`\\xbb`),`Deployment Methods`),mdx(\"p\",null,`You can provision your infrastructure using either CDKTF CLI commands (e.g., `,mdx(\"inlineCode\",{parentName:\"p\"},`cdktf deploy`),`) or by synthesizing your application into a Terraform configuration file and using Terraform directly. Both approaches allow you to use HCP Terraform and integrate with a CI/CD pipeline.`),mdx(\"h3\",{\"id\":\"run-cdktf-cli-commands\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#run-cdktf-cli-commands\",\"aria-label\":\"run cdktf cli commands permalink\"},`\\xbb`),`Run CDKTF CLI Commands`),mdx(\"p\",null,`We recommend using `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cdktf/cli-reference/commands\"},`CDKTF CLI commands`),` in the following use cases:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"strong\",{parentName:\"p\"},`Your application performs additional tasks`),` For example, your application may build a Docker image or start a build pipeline locally through synchronous APIs. You might also be using the null provider to execute these actions when a resource is created (e.g., after the Docker registry has been created). Running `,mdx(\"inlineCode\",{parentName:\"p\"},`cdktf deploy`),` triggers all of these actions at runtime in addition to using Terraform to provision your infrastructure.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"strong\",{parentName:\"p\"},`Your application contains stacks with complex dependencies.`),` Each `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cdktf/concepts/stacks\"},`stack`),` in a CDKTF application is like a separate Terraform working directory. Terraform respects complex dependencies within the same configuration, but it is not designed to manage complex dependencies between multiple working directories. For example, if you define a stack A that depends on data from stack B and stack C, Terraform runs will fail. This is because Terraform will not understand that it must wait to build stack A until both stack B and stack C are completed.`))),mdx(\"h3\",{\"id\":\"run-cdktf-synth-and-use-terraform-directly\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#run-cdktf-synth-and-use-terraform-directly\",\"aria-label\":\"run cdktf synth and use terraform directly permalink\"},`\\xbb`),`Run `,mdx(\"inlineCode\",{parentName:\"h3\"},`cdktf synth`),` and Use Terraform Directly`),mdx(\"p\",null,`We recommend synthesizing your CDKTF application and using Terraform directly when you need to integrate into existing Terraform workflows. Your organization may already use HCP Terraform or have integrated Terraform into CI pipelines. In these cases, you may want to run `,mdx(\"inlineCode\",{parentName:\"p\"},`cdktf synth`),` and set the output folder to a particular directory that you can reference in your existing workflows.`),mdx(\"h2\",{\"id\":\"using-hcp-terraform\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#using-hcp-terraform\",\"aria-label\":\"using hcp terraform permalink\"},`\\xbb`),`Using HCP Terraform`),mdx(\"p\",null,`HCP Terraform lets you review the current state of your infrastructure and run progress in the HCP Terraform UI. You can also use HCP Terraform as the source of secrets.`),mdx(\"p\",null,`Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cdktf/create-and-deploy/hcp-terraform#set-up-cdktf-with-hcp-terraform\"},`Set Up CDKTF With HCP Terraform`),` for details. Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"#example-workflows\"},`Example Workflows`),` for several examples of connecting your CDKTF application to HCP Terraform and using HCP Terraform in a Continuous Integration pipeline.`),mdx(\"h2\",{\"id\":\"managing-secrets-and-sensitive-data\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#managing-secrets-and-sensitive-data\",\"aria-label\":\"managing secrets and sensitive data permalink\"},`\\xbb`),`Managing Secrets and Sensitive Data`),mdx(\"p\",null,`You should `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cdktf/create-and-deploy/best-practices#read-secrets-with-terraform-variables\"},`read secrets with Terraform Variables`),` so that they do not appear in your synthesized CDKTF code.`),mdx(\"h2\",{\"id\":\"example-workflows\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#example-workflows\",\"aria-label\":\"example workflows permalink\"},`\\xbb`),`Example Workflows`),mdx(\"p\",null,`The following examples demonstrate common deployment workflows for your CDKTF application.`),mdx(\"h3\",{\"id\":\"deploy-with-terraform-and-hcp-terraform\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#deploy-with-terraform-and-hcp-terraform\",\"aria-label\":\"deploy with terraform and hcp terraform permalink\"},`\\xbb`),`Deploy with Terraform and HCP Terraform`),mdx(\"p\",null,`Connect your synthesized CDKTF configuration to a HCP Terraform workspace with the following steps:`),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},`Add a pre-commit step in your CDKTF application that runs `,mdx(\"inlineCode\",{parentName:\"li\"},`cdktf synth`),`. This creates Terraform configuration files in the `,mdx(\"inlineCode\",{parentName:\"li\"},`cdktf.out/stacks/<stack-name>`),` directory.`),mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",{parentName:\"li\",\"href\":\"/terraform/cloud-docs/workspaces/settings/vcs\"},`Configure the VCS integration`),` for a HCP Terraform workspace to point to the directory with the synthesized configuration files. To deploy multiple independent stacks, configure one HCP Terraform workspace to point to the output directory for each stack.`)),mdx(\"p\",null,`Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cloud-docs/workspaces/settings/vcs#automatic-run-triggering\"},`Automatic Run Triggering`),` in the HCP Terraform documentation for details about how to trigger Terraform runs from merges and commits.`),mdx(\"h3\",{\"id\":\"terraform-cdk-github-action\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#terraform-cdk-github-action\",\"aria-label\":\"terraform cdk github action permalink\"},`\\xbb`),`Terraform CDK GitHub Action`),mdx(\"p\",null,`You can use the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/marketplace/actions/terraform-cdk-action\"},`Terraform CDK GitHub Action`),` if you are using GitHub Actions and you want a default review / deployment workflow. The Terraform CDK GitHub Action runs the CDKTF CLI under the hood, it comments Terraform plans on your pull requests and provides a default review workflow. If you need more customization, refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"#github-actions-ci-and-hcp-terraform\"},`GitHub Actions CI and HCP Terraform`),`.`),mdx(\"h3\",{\"id\":\"github-actions-ci-and-hcp-terraform\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#github-actions-ci-and-hcp-terraform\",\"aria-label\":\"github actions ci and hcp terraform permalink\"},`\\xbb`),`GitHub Actions CI and HCP Terraform`),mdx(\"p\",null,`Set the `,mdx(\"inlineCode\",{parentName:\"p\"},`TERRAFORM_CLOUD_TOKEN`),` environment variable to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cloud-docs/users-teams-organizations/api-tokens\"},`HCP Terraform API token`),`. This allows the CDKTF stacks `,mdx(\"inlineCode\",{parentName:\"p\"},`CloudBackend`),` to connect to HCP Terraform.`),mdx(\"p\",null,`You must create a job like this for every stack so that you can pass the stack name into `,mdx(\"inlineCode\",{parentName:\"p\"},`cdktf diff <stack name>`),`. None of the stacks can depend on each other because Terraform cannot reason about which stacks must be launched first to respect these dependencies.`),mdx(\"p\",null,`The following example shows a GitHub Actions configuration where the CDKTF application is deployed from the `,mdx(\"inlineCode\",{parentName:\"p\"},`main`),` branch and uses HCP Terraform. You could store this file in `,mdx(\"inlineCode\",{parentName:\"p\"},`.github/workflows/cdktf-deploy.yml`),`.`),mdx(\"pre\",{\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` CDKTF Deployment`,`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`on`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`push`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`branches`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),`main`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`jobs`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`deploy`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`runs-on`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` ubuntu`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),`latest`,`\n`,`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`steps`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`uses`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` actions/checkout@v3`,`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` Use Node.js 18.x`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`uses`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` actions/setup`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),`node@v3`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`with`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`          `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`node-version`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` 18.x`,`\n`,`          `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`cache`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"npm\"`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` Install CDKTF CLI`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`run`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` npm install `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),`g cdktf`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),`cli`,`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` Install Terraform`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`uses`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` hashicorp/setup`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),`terraform@v2`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`with`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`          `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`terraform_version`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` 1.1.7`,`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` Install dependencies`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`run`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` npm ci`,`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token comment\"},`# If you use providers or modules that are not pre-built, you can install them here`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` Generate bindings for providers and modules`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`run`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` cdktf get`,`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` Run Tests`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`run`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` npm test`,`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` Deploy`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`run`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` cdktf deploy `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),`auto`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),`approve '`,mdx(\"span\",{parentName:\"code\",\"className\":\"token important\"},`*'`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token comment\"},`# Deploys all stacks`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`env`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`          `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`TERRAFORM_CLOUD_TOKEN`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` $`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),` secrets.TF_API_TOKEN `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)),mdx(\"p\",null,`To get the plan output posted as a comment on your pull request, add the following to your `,mdx(\"inlineCode\",{parentName:\"p\"},`.github/workflows/cdktf-diff.yml`),` file:`),mdx(\"pre\",{\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` CDKTF Diff`,`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`on`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),`pull_request`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`jobs`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`diff`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"Terraform CDK Diff\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`runs-on`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` ubuntu`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),`latest`,`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`steps`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` Checkout`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`uses`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` actions/checkout@v2`,`\n`,`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` Setup Terraform`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`uses`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` hashicorp/setup`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),`terraform@v1`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`with`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`          `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`terraform_version`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` 1.1.7`,`\n`,`          `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`cli_config_credentials_token`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` $`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),` secrets.TF_CLOUD_TOKEN `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`uses`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` actions/setup`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),`node@v1`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`with`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`          `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`node-version`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"14\"`),`\n`,`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`run`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` yarn install`,`\n`,`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token comment\"},`# CDKTF runs the plan here, so you need to fill in the name of your stack.`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`name`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` plan`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`run`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` cdktf plan <stack name`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`>`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`env`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`          `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`TERRAFORM_CLOUD_TOKEN`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` $`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),` secrets.TF_API_TOKEN `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`continue-on-error`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean important\"},`true`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token comment\"},`# We want to see the plan output even if the plan fails`),`\n`,`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token comment\"},`# Replace this step with any workflow you like, e.g. posting a message in a slack channel.`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`uses`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` actions/github`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`-`),`script@0.9.0`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`if`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` github.event_name == 'pull_request'`,`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`env`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`          `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`PLAN`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"terraform\\\\n\\${{ steps.plan.outputs.stdout }}\"`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token comment\"},`# CDKTF gets the output from the last step`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`with`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`          `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`github-token`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` $`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),` secrets.GH_COMMENT_TOKEN `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token comment\"},`# Create a secret with a GitHub token that can comment on PRs`),`\n`,`          `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`script`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`|`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token scalar string\"},`            const output = \\`#### Terraform Plan 📖\\\\\\`\\${{ steps.plan.outcome }}\\\\\\``),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token scalar string\"},`            <details><summary>Show Plan</summary>`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token scalar string\"},`            \\\\\\`\\\\\\`\\\\\\`\\${process.env.PLAN}\\\\\\`\\\\\\`\\\\\\``),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token scalar string\"},`            </details>`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token scalar string\"},`            *Pusher: @\\${{ github.actor }}, Action: \\\\\\`\\${{ github.event_name }}\\\\\\`, Working Directory: \\\\\\`\\${{ env.tf_actions_working_dir }}\\\\\\`, Workflow: \\\\\\`\\${{ github.workflow }}\\\\\\`*\\`;`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token scalar string\"},`            github.issues.createComment({`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token scalar string\"},`              issue_number: context.issue.number,`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token scalar string\"},`              owner: context.repo.owner,`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token scalar string\"},`              repo: context.repo.repo,`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token scalar string\"},`              body: output`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token scalar string\"},`            })`),`\n`)),mdx(\"h3\",{\"id\":\"running-the-cdktf-cli-on-a-general-purpose-ci\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#running-the-cdktf-cli-on-a-general-purpose-ci\",\"aria-label\":\"running the cdktf cli on a general purpose ci permalink\"},`\\xbb`),`Running the CDKTF CLI on a General Purpose CI`),mdx(\"p\",null,`If you have a general purpose CI like GitHub Actions or CircleCI configured, use the `,mdx(\"inlineCode\",{parentName:\"p\"},`cdktf deploy --auto-approve <your stacks>`),` command to trigger a deployment. This deploys your stacks in the right order and in parallel. To set up this workflow, you must install the following software:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`Node in version 14.0+`),mdx(\"li\",{parentName:\"ul\"},`The `,mdx(\"inlineCode\",{parentName:\"li\"},`cdktf-cli`),` CLI`),mdx(\"li\",{parentName:\"ul\"},`Terraform v1.0+`),mdx(\"li\",{parentName:\"ul\"},`Any other languages you use for your CDKTF application`)),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` Auto-approved deployments skip the option to review planned changes to your infrastructure before Terraform applies them. Minimize risk of unpredictable infrastructure changes and configuration drift by making sure that no one can change your infrastructure outside of your automated build pipeline. Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/terraform/cloud-docs/run/cli#non-interactive-workflows\"},`Non-Interactive Workflows`),` for details.`)),mdx(\"h3\",{\"id\":\"contribute-additional-examples\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#contribute-additional-examples\",\"aria-label\":\"contribute additional examples permalink\"},`\\xbb`),`Contribute Additional Examples`),mdx(\"p\",null,`To share another solution, please `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/terraform-cdk/issues/new?assignees=&labels=enhancement%2C+new&template=feature-request.md&title=\"},`open a GitHub issue`),` or submit a pull request for this documentation page.`))};MDXContent.isMDXComponent=true;","scope":{"version":"latest"}},"product":{"slug":"terraform","name":"Terraform","algoliaConfig":{"indexName":"product_TERRAFORM"},"alertBannerActive":true,"alertBanner":{"tag":"New","url":"https://www.hashicorp.com/blog/introducing-the-infrastructure-cloud","text":"Terraform Cloud is now HCP Terraform","linkText":"Read more →","expirationDate":"2024-04-29T00:00:00-08:00"},"basePaths":["cdktf","cli","cloud-docs","cloud-docs/agents","docs","enterprise","internals","intro","language","plugin","plugin/framework","plugin/log","plugin/mux","plugin/sdkv2","plugin/testing","registry","downloads"],"docsNavItems":["docs","language","cli","cloud-docs","enterprise","cdktf",{"icon":"provider","label":"Provider Use","fullPath":"/terraform/language/providers"},"plugin","registry",{"icon":"handshake","label":"Integration Program","fullPath":"/terraform/docs/partnerships"}],"rootDocsPaths":[{"iconName":"code","name":"CDK for Terraform","path":"cdktf","productSlugForLoader":"terraform-cdk"},{"iconName":"terminal-screen","name":"Terraform CLI","path":"cli"},{"iconName":"cloud","name":"HCP Terraform","path":"cloud-docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"cloud","name":"Cloud Docs Agents","navDataPrefix":"cloud-docs-agents","path":"cloud-docs/agents","productSlugForLoader":"terraform-docs-agents"},{"iconName":"docs","name":"About the Docs","path":"docs","productSlugForLoader":"terraform-docs-common"},{"iconName":"org","name":"Terraform Enterprise","path":"enterprise","productSlugForLoader":"ptfe-releases"},{"iconName":"docs","name":"Internals","path":"internals"},{"iconName":"docs","name":"Intro","path":"intro"},{"iconName":"file-source","name":"Configuration Language","path":"language"},{"iconName":"wrench","name":"Plugin Development","path":"plugin","productSlugForLoader":"terraform-docs-common"},{"iconName":"plug","name":"Framework","navDataPrefix":"plugin-framework","path":"plugin/framework","productSlugForLoader":"terraform-plugin-framework"},{"iconName":"plug","name":"Logging","navDataPrefix":"plugin-log","path":"plugin/log","productSlugForLoader":"terraform-plugin-log"},{"iconName":"plug","name":"Combining and Translating","navDataPrefix":"plugin-mux","path":"plugin/mux","productSlugForLoader":"terraform-plugin-mux"},{"iconName":"plug","name":"SDKv2","path":"plugin/sdkv2","productSlugForLoader":"terraform-plugin-sdk","navDataPrefix":"plugin-sdkv2"},{"iconName":"plug","name":"Testing","path":"plugin/testing","productSlugForLoader":"terraform-plugin-testing","navDataPrefix":"plugin-testing"},{"iconName":"plus-circle","name":"Registry Publishing","path":"registry","productSlugForLoader":"terraform-docs-common"}],"currentRootDocsPath":{"iconName":"code","name":"CDK for Terraform","path":"cdktf","productSlugForLoader":"terraform-cdk"}},"projectName":"CDK For Terraform","versions":null},"__N_SSG":true}