{"pageProps":{"metadata":{"title":"Packer | Integrations","description":"The Packer plugin retrieves the image ID of an image whose metadata is pushed to an HCP Packer registry. The image ID is that of the HCP Packer bucket iteration assigned to the configured channel, with a matching cloud provider and region."},"product":{"name":"Waypoint","slug":"waypoint","algoliaConfig":{"indexName":"product_WAYPOINT","searchOnlyApiKey":"5e4adfd8094367056501547d6fedb6c5"},"analyticsConfig":{"includedDomains":"waypointproject.io www.waypointproject.io","segmentWriteKey":"9mlIVayJbNtJW2EOdAFKHNKcdLAgEDlV"},"metadata":{"title":"Waypoint by HashiCorp","description":"Waypoint provides a modern workflow for build, deploy, and release across platforms.","image":"https://www.waypointproject.io/waypoint-public/img/og-image.png","icon":[{"href":"/waypoint-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"subnavItems":[{"text":"Overview","url":"/","type":"inbound"},{"text":"Tutorials","url":"https://developer.hashicorp.com/waypoint/tutorials","type":"inbound"},{"text":"Docs","url":"https://developer.hashicorp.com/waypoint/docs","type":"inbound"},{"text":"CLI","url":"https://developer.hashicorp.com/waypoint/commands","type":"inbound"},{"text":"Integrations","url":"https://developer.hashicorp.com/waypoint/integrations","type":"inbound"},{"text":"Community","url":"/community","type":"inbound"}],"basePaths":["commands","docs","plugins","tutorials","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs","includeMDXSource":true},{"iconName":"api","name":"API","path":"api-docs"},{"iconName":"terminal-screen","name":"CLI","path":"commands"}],"integrationsConfig":{"description":"A curated collection of official, partner, and community Waypoint Integrations."}},"integration":{"id":"5a406b38-9fff-478a-b330-35c1b64c60fd","slug":"packer","name":"Packer","description":"The Packer plugin retrieves the image ID of an image whose metadata is pushed to an HCP Packer registry. The image ID is that of the HCP Packer bucket iteration assigned to the configured channel, with a matching cloud provider and region.","license_type":"MPL-2.0","license_url":"https://github.com/hashicorp/waypoint/blob/main/LICENSE","external_only":false,"external_url":null,"tier":"official","repo_url":"https://github.com/hashicorp/waypoint","subdirectory":"/builtin/packer","created_at":"2023-02-03T18:34:03.712Z","updated_at":"2023-02-03T19:21:50.346Z","hide_versions":false,"organization":{"id":"a4a0551a-1451-4d89-9f56-8031c8350c77","slug":"hashicorp","created_at":"2022-11-09T22:56:32.391Z","updated_at":"2022-11-09T22:56:32.391Z"},"product":{"id":"68c85272-e2bf-4330-aa43-4ce4e6d899ee","slug":"waypoint","name":"Waypoint","created_at":"2022-11-09T22:56:30.388Z","updated_at":"2022-11-09T22:56:30.388Z"},"versions":["0.11.0"],"components":[{"id":"772fd321-ac4c-4eed-b238-c351725da0f6","slug":"config-sourcer","name":"Config Sourcer","plural_name":"Config Sourcers"}],"flags":[{"id":"d2a85dd2-1cca-4ce9-8f88-fef3c8dd0510","slug":"builtin","name":"Built-in","description":"This integration is shipped in the core product and does not need to be installed.","created_at":"2022-11-09T22:56:30.770Z","updated_at":"2023-01-27T18:33:54.665Z"}],"integration_type":null},"activeRelease":{"id":"8cec7b28-234c-4780-9eb3-e18ddf9d4609","integration_id":"5a406b38-9fff-478a-b330-35c1b64c60fd","version":"0.11.0","readme":"The Packer plugin retrieves the image ID of an image whose metadata is pushed\nto an [HCP Packer](https://cloud.hashicorp.com/products/packer) registry. The\nimage ID is that of the HCP Packer bucket iteration assigned to the configured\nchannel, with a matching cloud provider and region.\n\n### Components\n\n1. [ConfigSourcer](/waypoint/integrations/hashicorp/packer/latest/components/config-sourcer/packer-config-sourcer)\n","created_at":"2023-02-13T19:45:25.722Z","updated_at":"2023-04-04T18:44:50.102Z","components":[{"id":"ac64f160-4c9d-4f88-8d17-101a15bb8161","integration_release_id":"8cec7b28-234c-4780-9eb3-e18ddf9d4609","component_id":"772fd321-ac4c-4eed-b238-c351725da0f6","readme":"<!-- This file was generated via `make gen/integrations-hcl` -->\nRetrieve the image ID of an image whose metadata is pushed to an HCP Packer registry. The image ID is that of the HCP Packer bucket iteration assigned to the configured channel, with a matching cloud provider and region.\n\n### Examples\n\n```hcl\n// The waypoint.hcl file\nproject = \"example-reactjs-project\"\n\nvariable \"image\" {\n  default = dynamic(\"packer\", {\n    bucket          = \"nginx\"\n    channel         = \"base\"\n    region          = \"docker\"\n    cloud_provider  = \"docker\"\n  }\n  type = string\n  description = \"The name of the base image to use for building app Docker images.\"\n}\n\napp \"example-reactjs\" {\n  build {\n    use \"docker\" {\n      dockerfile = templatefile(\"${path.app}\"/Dockerfile, {\n        base_image = var.image\n      }\n    }\n\n  deploy {\n    use \"docker\" {}\n  }\n}\n\n\n# Multi-stage Dockerfile example\nFROM node:19.2-alpine as build\nWORKDIR /app\nENV PATH /app/node_modules/.bin:$PATH\nCOPY package.json ./\nCOPY package-lock.json ./\nRUN npm ci --silent\nRUN npm install react-scripts@3.4.1 -g --silent\nCOPY . ./\nRUN npm run build\n\n# ${base_image} below is the Docker repository and tag, templated to the Dockerfile\nFROM ${base_image}\nCOPY nginx/default.conf /etc/nginx/conf.d/\nCOPY --from=build /app/build /usr/share/nginx/html\nEXPOSE 80\nCMD [\"nginx\", \"-g\", \"daemon off;\"]\n```\n\n","created_at":"2023-03-14T21:14:29.160Z","updated_at":"2023-03-14T21:14:29.160Z","name":"Packer Config Sourcer","slug":"packer-config-sourcer","component":{"id":"772fd321-ac4c-4eed-b238-c351725da0f6","slug":"config-sourcer","name":"Config Sourcer","plural_name":"Config Sourcers","product_id":"68c85272-e2bf-4330-aa43-4ce4e6d899ee","created_at":"2022-11-09T22:56:31.664Z","updated_at":"2022-11-09T22:56:31.664Z"},"variable_groups":[{"id":"658609c6-e07c-4fe6-9781-7ab98ae34a48","created_at":"2023-03-14T21:14:29.790Z","updated_at":"2023-03-14T21:14:29.790Z","integration_release_component_id":"ac64f160-4c9d-4f88-8d17-101a15bb8161","variable_group_config":{"id":"263c5c35-8751-466c-aa7a-7f1a76973bd6","product_id":"68c85272-e2bf-4330-aa43-4ce4e6d899ee","name":"Parameters","filename":"parameters.hcl","stanza":"parameter","display_order":1,"created_at":"2022-12-06T21:05:38.246Z","updated_at":"2022-12-06T21:05:38.246Z"},"variables":[{"id":"1ab02b87-96d5-4377-b65c-14583df5e933","variable_group_id":"658609c6-e07c-4fe6-9781-7ab98ae34a48","key":"client_id","description":"The OAuth2 Client ID for HCP API operations.","type":"string","required":false,"default_value":null,"created_at":"2023-03-14T21:14:30.129Z","updated_at":"2023-03-14T21:14:30.129Z"},{"id":"b397b934-47a2-4a61-9053-6ae26139e182","variable_group_id":"658609c6-e07c-4fe6-9781-7ab98ae34a48","key":"client_secret","description":"The OAuth2 Client Secret for HCP API operations.","type":"string","required":false,"default_value":null,"created_at":"2023-03-14T21:14:30.465Z","updated_at":"2023-03-14T21:14:30.465Z"},{"id":"e8607baf-67cd-45fa-a3ab-afc97e3d4621","variable_group_id":"658609c6-e07c-4fe6-9781-7ab98ae34a48","key":"organization_id","description":"The HCP organization ID.","type":"string","required":true,"default_value":null,"created_at":"2023-03-14T21:14:30.788Z","updated_at":"2023-03-14T21:14:30.788Z"},{"id":"c34b9ffb-0e1b-4dcf-9ae9-d4a832ae1512","variable_group_id":"658609c6-e07c-4fe6-9781-7ab98ae34a48","key":"project_id","description":"The HCP Project ID.","type":"string","required":true,"default_value":null,"created_at":"2023-03-14T21:14:31.117Z","updated_at":"2023-03-14T21:14:31.117Z"}]}]}]},"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Waypoint","url":"/waypoint"},{"title":"Integrations","url":"/waypoint/integrations"},{"title":"Packer","url":"/waypoint/integrations/hashicorp/packer","isCurrentPage":true}],"anchorLinks":[{"id":"components","level":3,"title":"Components"}],"serializedREADME":{"compiledSource":"var m=Object.defineProperty,u=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var s=(e,t,o)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,n=(e,t)=>{for(var o in t||(t={}))c.call(t,o)&&s(e,o,t[o]);if(r)for(var o of r(t))i.call(t,o)&&s(e,o,t[o]);return e},p=(e,t)=>u(e,g(t));var h=(e,t)=>{var o={};for(var a in e)c.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&r)for(var a of r(e))t.indexOf(a)<0&&i.call(e,a)&&(o[a]=e[a]);return o};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(o){var a=o,{components:e}=a,t=h(a,[\"components\"]);return mdx(MDXLayout,p(n(n({},layoutProps),t),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",n({},{className:\"g-type-long-body\"}),`The Packer plugin retrieves the image ID of an image whose metadata is pushed\nto an `,mdx(\"a\",n({parentName:\"p\"},{href:\"https://cloud.hashicorp.com/products/packer\"}),\"HCP Packer\"),` registry. The\nimage ID is that of the HCP Packer bucket iteration assigned to the configured\nchannel, with a matching cloud provider and region.`),mdx(\"h3\",n({},{id:\"user-content-components\",\"data-text-content\":\"Components\",className:\"g-type-display-4\"}),\"Components\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"a\",n({parentName:\"li\"},{href:\"/waypoint/integrations/hashicorp/packer/latest/components/config-sourcer/packer-config-sourcer\"}),\"ConfigSourcer\"))))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"__N_SSG":true}